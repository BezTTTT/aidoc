{% extends "./component/header.html"%}
{% block content %}
<style>
  .loginContainer {
    width: 100%;
  }

  @media screen and (min-width: 1024px) {
    .loginContainer {
      padding: 0.3rem;
      width: 50%;
    }
  }
</style>
{% if g.user %}
  <div class="row d-flex align-items-center justify-content-center pt-4">
    <div class="card d-flex justify-content-center" style="width: 30%; height: auto">
      <div class="card-body">
        <div>
          <h5 class="card-title">คุณกำลังเข้าสู่ระบบอยู่</h5>
        </div>
        <div class="d-flex justify-content-around mt-5">
          <a class="btn btn-outline-primary" type="submit" href="/">กลับสู่หน้าอัพโหลดรูปภาพ</a>
          <a class="btn btn-outline-primary" type="submit" href="/logout">ออกจากระบบ</a>
        </div>
      </div>
    </div>
  </div>
{% else %}

  <script>
    function toggleLoginMode(mode) {
      formPatient = document.getElementById("form-patient")
      formOSM = document.getElementById("form-osm")
      tabPatient = document.getElementById("login-patient-tab")
      tabOSM = document.getElementById("login-osm-tab")

      if (mode === "patient") {
        formPatient.style.display = "block"
        formOSM.style.display = "none"
        tabPatient.classList.add("active")
        tabOSM.classList.remove("active")
      } else if (mode === "osm") {
        formOSM.style.display = "block"
        formPatient.style.display = "none"
        tabOSM.classList.add("active")
        tabPatient.classList.remove("active")
      }
    }
  </script>

  <div class="container-sm pb-4">

    <nav class="m-auto loginContainer p-0">
      <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <span
          {% if session['sender_mode'] is not defined or session['sender_mode']=='patient' %}
            class="nav-item nav-link active"
          {% else %}
            class="nav-item nav-link"
          {% endif %}
          id="login-patient-tab" data-toggle="tab" role="button" aria-controls="nav-patient" onclick="toggleLoginMode('patient')">
          ประชาชน
        </span>

        <span {% if session['sender_mode']=='osm' %} class="nav-item nav-link active" {% else %} class="nav-item nav-link"
          {% endif %} id="login-osm-tab" data-toggle="tab" role="button" aria-controls="nav-osm"
          onclick="toggleLoginMode('osm')">
          เจ้าหน้าที่ผู้ตรวจคัดกรอง
        </span>
      </div>
    </nav>

    <div class="m-auto loginContainer border border-top-0 p-4 rounded-bottom-3">
      <div class="card-body">

        <form id="form-patient" action="/" method="post" enctype="multipart/form-data"
        {% if session['sender_mode'] is not defined or session['sender_mode']=='patient' %}
          style="display: block;"
        {% else %}
          style="display: none;"
        {% endif %}>
          <h5 class="card-title fw-bold">การตรวจคัดกรองรอยโรคมะเร็งในช่องปากด้วยตนเอง</h5>
          <div class="my-4">
            <div class="form-group">
              <label class="mr-sm-2 mb-2">เลขบัตรประจำตัวประชาชน (13 หลัก):</label>
              <input type="text" class="form-control" placeholder="รหัสบัตรประชาชน..." name="national_id"
                maxlength="13"></input>
            </div>
          </div>
          <div class="row">
            <div class="col-12 d-flex justify-content-center">
              <input class="btn btn-outline-success" style="width: 50%;" type="submit" value="ตกลง">
            </div>
          </div>
        </form>

        <form id="form-osm" action="/login/osm" method="post" enctype="multipart/form-data"
        {% if session['sender_mode']=='osm' %}
          style="display: block;"
        {% else %}
          style="display: none;"
        {% endif %}>
          <h5 class="card-title fw-bold">ระบบการนำส่งภาพถ่ายช่องปากโดยเจ้าหน้าที่ผู้ตรวจคัดกรอง</h5>
          <div class="my-4">
            <div class="form-group">
              <label class="mr-sm-2 mb-2">เลขบัตรประจำตัวประชาชน (13 หลัก):</label>
              <input type="text" class="form-control" placeholder="เลขประจำตัวประชาชน..." name="osm_national_id"
                maxlength="13"></input>
            </div>
            <div class="form-group mt-3">
              <label class="mr-sm-2 mb-2">เบอร์โทรศัพท์:</label>
              <div class="d-flex">
                <input type="text" class="form-control" placeholder="เบอร์โทรศัพท์..." name="osm_phone"
                  maxlength="10"></input>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6 d-flex justify-content-center">
              <input class="btn btn-outline-success" style="width: 100%;" type="submit" value="ตกลง">
            </div>
            <div class="col-6 d-flex justify-content-center">
              <a class="btn btn-outline-primary" style="width: 100%;" type="submit"
                href="/">ลงทะเบียน</a>
            </div>
          </div>
        </form>
      </div>

    </div>

    {% for message in get_flashed_messages() %}
    <div class="alert alert-danger" role="alert">{{ message }}</div>
    {% endfor %}

    <div class="card my-4" style="width: 100%;">
      <div class="card-body d-flex justify-content-evenly">
        <div class="row d-flex justify-content-center">
          <div class="col-md-3 d-flex justify-content-evenly">
            <img src="static/doh.png" class="card d-flex justify-content-center" style="width: 50%;height: auto;border:0;"
              alt="">
          </div>
          <div class="col-md-3 d-flex justify-content-around">
            <img src="static/cmu.png" class="card d-flex justify-content-center" style="width: 50%;height: auto;border:0;"
              alt="">
          </div>
          <div class="col-md-3 d-flex justify-content-around">
            <img src="static/thammasat.png" class="card d-flex justify-content-center"
              style="width: 50%;height: auto;border:0;" alt="">
          </div>
        </div>
      </div>
    </div>

    <div class="card" style="width: 100%;">
      <div class="card-body">
        <h5 class="card-title text-center">คำชี้แจงและเงื่อนไขการใช้งาน</h5>
        <p class="card-text">1. โปรแกรมคอมพิวเตอร์นี้ชื่อว่า
          ระบบปัญญาประดิษฐ์ที่ช่วยในการค้นหาและวิเคราะห์รอยโรคก่อนมะเร็งและมะเร็งช่องปาก (Artificial
          Intelligent System for Detecting and Analyzing PMDs and Oral Cancer)
          ระบบนี้เป็นส่วนหนึ่งของโครงการการพัฒนาระบบการเฝ้าระวังด้านทันตสาธารณสุข
          ประเด็นการตรวจคัดกรองและประเมินปัจจัยเสี่ยงการเกิดรอยโรคก่อนมะเร็งและมะเร็งช่องปาก
          ซึ่งได้รับงบประมาณสนับสนุนและอยู่ภายใต้การกำกับดูแลของ ศูนย์ทันตสาธารณสุขระหว่างประเทศ กรมอนามัย
          กระทรวงสาธารณสุข</p>
        <p class="card-text"><b>2. (เงื่อนไขการใช้งาน) ระบบปัญญาประดิษฐ์ฯ นี้ ไม่ใช่เครื่องมือทางการแพทย์
            ผลลัพธ์จากการประมวลผลไม่สามารถนำไปใช้วินิจฉัยหรืออ้างอิงในทางการแพทย์ใด ๆ ได้
            หากคนไข้ตรวจพบความผิดปกติหรือสงสัยว่ามีความผิดปกติของรอยโรคในช่องปาก
            คนไข้ต้องเข้ารับการตรวจวินิจฉัยและรักษาจากแพทย์หรือทันตแพทย์ผู้เชี่ยวชาญเท่านั้น</b></p>
        <p class="card-text">3. ระบบปัญญาประดิษฐ์ฯ นี้
          รองรับข้อมูลเฉพาะที่เป็นภาพถ่ายช่องปากที่มีมุมมองได้มาตรฐาน
          มีขนาดของรอยโรคที่ใหญ่และชัดเจนเพียงพอ มีแสงสว่างที่เหมาะสมและสม่ำเสมอ
          จึงจะสามารถให้ผลลัพธ์การทำนายรอยโรคที่มีประสิทธิภาพได้
          ผู้ใช้สามารถศึกษาตัวอย่างภาพถ่ายที่เหมาะสมในเมนู “ตัวอย่างการทำนายรอยโรค”</p>
        <p class="card-text">4. ระบบปัญญาประดิษฐ์ฯ นี้ สามารถประมวลผลเฉพาะรอยโรคก่อนมะเร็ง (Oral Potentially
          Malignant Disorder หรือ OPMD) และรอยโรคมะเร็งช่องปากชนิด Oral Squamous Cell Carcinoma (หรือ
          OSCC) ได้เท่านั้น ไม่รองรับการประมวลผลรอยโรคทางช่องปากชนิดอื่น ๆ
          ตัวอย่างรูปภาพที่แสดงลักษณะรอยโรคที่ระบบรองรับ จะแสดงไว้ในเมนู “ตัวอย่างการทำนายรอยโรค”</p>
        <p class="card-text"><b>5. (เงื่อนไขการใช้งาน) ระบบปัญญาประดิษฐ์ฯ ที่เผยแพร่ต่อสาธารณะนี้
            ยังอยู่ระหว่างการวิจัยและพัฒนานวัตกรรม ระบบอาจยังไม่มีความสมบูรณ์เพียงพอ
            ระบบยังไม่ได้รับการตรวจสอบความถูกต้องแม่นยำจากหน่วยงานที่เกี่ยวข้องอย่างเข้มแข็ง
            และระบบอาจให้ผลลัพธ์ที่ผิดพลาดได้เสมอ ดังนั้น ศูนย์ทันตสาธารณสุขระหว่างประเทศและคณะผู้พัฒนา
            จะไม่รับผิดชอบในความเสียหายที่เกิดจากการใช้งาน ในกรณีใด ๆ ทั้งสิ้น </b></p>
        <p class="card-text"><b>6. (เงื่อนไขการใช้งาน) การใช้งานระบบปัญญาประดิษฐ์ฯ นี้
            ผู้ใช้งานตกลงที่จะอนุญาตและมอบสิทธิ์ให้กับคณะผู้พัฒนาและหน่วยงานที่เกี่ยวข้อง
            ที่จะเก็บรักษาข้อมูล แก้ไข ทำซ้ำ เผยแพร่ ซึ่งข้อมูลที่ผู้ใช้นำเข้าสู่ระบบคอมพิวเตอร์
            เพื่อนำไปปรับปรุงการทำงานของระบบปัญญาประดิษฐ์ฯ
            ให้มีความถูกต้องแม่นยำยิ่งขึ้นและเพื่อตอบโจทย์ทางด้านทันตสุขภาพและทันตสาธารณสุขของประเทศต่อไป</b>
        </p>
        <p class="card-text">7. เนื่องจากระบบปัญญาประดิษฐ์ฯ นี้ ยังไม่สมบูรณ์
          จำเป็นต้องได้รับการฝึกสอนโดยใช้ข้อมูลภาพถ่ายช่องปากที่ตรวจพบรอยโรคและช่องปากสุขภาพดี
          อีกเป็นจำนวนมาก ในโอกาสนี้ คณะผู้พัฒนา จึงขอขอบพระคุณผู้ใช้งานทุก ๆ
          ท่านที่นำส่งข้อมูลเข้าสู่ระบบอย่างต่อเนื่อง ทางเรามีความหวังใจว่า
          จะสามารถนำเสนอระบบปัญญาประดิษฐ์ที่มีความสมบูรณ์ต่อผู้ใช้งานในอนาคตอันใกล้นี้</p>
        <p class="card-text">8. หากผู้ใช้งานพบปัญหาจากการใช้งานหรือมีคำแนะนำอื่นใด ขอให้ท่านติดต่อได้ที่
          ศูนย์ทันตสาธารณสุขระหว่างประเทศ กรมอนามัย กระทรวงสาธารณสุข เลขที่ 548 ต.หนองหอย อ.เมืองเชียงใหม่
          จ.เชียงใหม่ 50000</p>
      </div>
    </div>
  </div>
{% endif %}
{% endblock %}